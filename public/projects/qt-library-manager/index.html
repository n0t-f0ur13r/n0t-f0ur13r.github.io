<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>C&#43;&#43;/Qt Library Management System | JosuÃ© Leiva</title>
<meta name="keywords" content="C&#43;&#43;17, Qt6, SQLite, Desktop App">
<meta name="description" content="ðŸ”— View Code on GitHub
The Problem
Small to medium-sized libraries often rely on spreadsheets or expensive cloud software.
The requirement was to build a robust, offline-first desktop solution that could handle relational data (Books, Readers, Loans) with transactional integrity, ensuring no data loss during power failures or crashes.
Given the library sizes on scope, the software must take care of low computing resources.
The Solution
Co-developed a desktop application using Qt 6 for the frontend and Native C&#43;&#43; for the backend logic.">
<meta name="author" content="JosuÃ© Leiva">
<link rel="canonical" href="http://localhost:1313/projects/qt-library-manager/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/qt-library-manager/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="JosuÃ© Leiva (Alt + H)">JosuÃ© Leiva</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      C&#43;&#43;/Qt Library Management System
    </h1>
    <div class="post-meta"><span title='2025-07-20 00:00:00 +0000 UTC'>July 20, 2025</span>&nbsp;Â·&nbsp;<span>JosuÃ© Leiva</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#-view-code-on-github" aria-label="ðŸ”— View Code on GitHub">ðŸ”— View Code on GitHub</a></li></ul>
                    
                <li>
                    <a href="#the-problem" aria-label="The Problem">The Problem</a></li>
                <li>
                    <a href="#the-solution" aria-label="The Solution">The Solution</a></li>
                <li>
                    <a href="#tech-stack" aria-label="Tech Stack">Tech Stack</a></li>
                <li>
                    <a href="#engineering-challenge" aria-label="Engineering Challenge">Engineering Challenge</a></li>
                <li>
                    <a href="#future-improvements-roadmap" aria-label="Future Improvements (Roadmap)">Future Improvements (Roadmap)</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="-view-code-on-github">ðŸ”— <a href="https://github.com/n0t-f0ur13r/qt-library-manager">View Code on GitHub</a><a hidden class="anchor" aria-hidden="true" href="#-view-code-on-github">#</a></h3>
<h2 id="the-problem">The Problem<a hidden class="anchor" aria-hidden="true" href="#the-problem">#</a></h2>
<p>Small to medium-sized libraries often rely on spreadsheets or expensive cloud software.
The requirement was to build a robust, <strong>offline-first</strong> desktop solution that could handle relational data (Books, Readers, Loans) with transactional integrity, ensuring no data loss during power failures or crashes.
Given the library sizes on scope, the software must take care of low computing resources.</p>
<h2 id="the-solution">The Solution<a hidden class="anchor" aria-hidden="true" href="#the-solution">#</a></h2>
<p>Co-developed a desktop application using <strong>Qt 6</strong> for the frontend and <strong>Native C++</strong> for the backend logic.</p>
<ul>
<li><strong>Architecture:</strong> Implemented a custom MVC pattern.</li>
<li><strong>Native Database Integration:</strong> Instead of relying on high-level frameworks, we integrated the <strong>raw <code>sqlite3.h</code> C library</strong>. This allowed for granular control over SQL execution and memory usage, bypassing the overhead of Qt&rsquo;s SQL module.</li>
<li><strong>Business Logic:</strong> Automated penalty calculation algorithms based on date differentials.</li>
<li><strong>Simplicity:</strong> Given the size of the libraries, the desktop application is aimed to suffice the needs of a library administrator, not reader.</li>
</ul>
<h2 id="tech-stack">Tech Stack<a hidden class="anchor" aria-hidden="true" href="#tech-stack">#</a></h2>
<ul>
<li><strong>Language:</strong> C++17.</li>
<li><strong>GUI:</strong> Qt 6 (Widgets).</li>
<li><strong>Database:</strong> SQLite 3 (Native C Interface).</li>
<li><strong>Debugging:</strong> GDB &amp; Qt Creator Debugger.</li>
</ul>
<h2 id="engineering-challenge">Engineering Challenge<a hidden class="anchor" aria-hidden="true" href="#engineering-challenge">#</a></h2>
<p>The most critical hurdle was a <strong>&ldquo;Ghost Signal&rdquo; &amp; Double Execution Bug</strong>.</p>
<ul>
<li><em>The Issue:</em> UI actions (like confirming a book loan) were firing twice, causing data corruption and random behaviour.</li>
<li><em>The Investigation:</em> Through deep debugging with GDB, traced the issue to a flaw in the class inheritance structure (using <code>QWidget</code> instead of <code>QDialog</code> for modals), which broke the event loop isolation.</li>
<li><em>The Fix:</em> Refactored the window hierarchy to enforce strict modal states and implemented a &ldquo;Safe Slot&rdquo; mechanism to prevent duplicate signal connections. It was also necessary to rebuild the project configuration to clean corrupted intermediate binaries that were masking the true error.</li>
</ul>
<h2 id="future-improvements-roadmap">Future Improvements (Roadmap)<a hidden class="anchor" aria-hidden="true" href="#future-improvements-roadmap">#</a></h2>
<p>While the system is stable for local deployment, scaling it for a larger institution would require addressing specific architectural constraints:</p>
<ul>
<li><strong>Migration to Client-Server Architecture:</strong> Currently, the app relies on a local SQLite file, which limits concurrent usage. The next logical step is to abstract the <code>GestorBaseDeDatos</code> class to support a <strong>PostgreSQL</strong> connection, enabling multiple librarians to work simultaneously from different terminals.</li>
<li><strong>Automated Testing Suite:</strong> As noted in the final report, the project relied on manual functional testing. Integrating <strong>Google Test</strong> or <strong>Qt Test</strong> for automated unit and regression testing would prevent the recurrence of the &ldquo;double signal&rdquo; bugs fixed during development.</li>
<li><strong>Modern UI/UX:</strong> Migrating the frontend from Qt Widgets to <strong>Qt Quick (QML)</strong> to provide a more fluid, touch-friendly interface suitable for modern kiosks.</li>
</ul>
<hr>
<blockquote>
<p><em>Note: Collaborative Capstone Project for the Object Oriented Design and Programming (3th semester). My primary focus was on the Backend Logic and UI creation.</em></p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/c&#43;&#43;17/">C&#43;&#43;17</a></li>
      <li><a href="http://localhost:1313/tags/qt6/">Qt6</a></li>
      <li><a href="http://localhost:1313/tags/sqlite/">SQLite</a></li>
      <li><a href="http://localhost:1313/tags/desktop-app/">Desktop App</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">JosuÃ© Leiva</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
