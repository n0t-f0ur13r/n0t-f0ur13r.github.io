<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>UBike: IoT Biometric Security System | JosuÃ© Leiva</title>
<meta name="keywords" content="C&#43;&#43;, ESP32, Django, IoT">
<meta name="description" content="ðŸ”— View Code on GitHub
The Problem
University campuses lack automated parking solutions for bicycles.
Traditional locks are vulnerable, and manual registration is slow (crucial when the flow of students is high).
We needed a system that authenticated users and mechanically secured the bike without human intervention.
Provide fast and easy to use interface for both campus guards and bicycle owners to administrate
the bicycles on the campus and their own bicycle respectively.">
<meta name="author" content="JosuÃ© Leiva">
<link rel="canonical" href="http://localhost:1313/projects/ubike-iot/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/ubike-iot/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="JosuÃ© Leiva (Alt + H)">JosuÃ© Leiva</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/garden/" title="Garden">
                    <span>Garden</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      UBike: IoT Biometric Security System
    </h1>
    <div class="post-meta"><span title='2025-06-15 00:00:00 +0000 UTC'>June 15, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>JosuÃ© Leiva</span>

</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" src="https://raw.githubusercontent.com/n0t-f0ur13r/UBike/master/images/circuit_diagram.png" alt="UBike System Architecture">
        <figcaption>ESP32 Node connected to Django Backend</figcaption>
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#-view-code-on-github" aria-label="ðŸ”— View Code on GitHub">ðŸ”— View Code on GitHub</a></li></ul>
                    
                <li>
                    <a href="#the-problem" aria-label="The Problem">The Problem</a></li>
                <li>
                    <a href="#the-solution" aria-label="The Solution">The Solution</a></li>
                <li>
                    <a href="#tech-stack" aria-label="Tech Stack">Tech Stack</a></li>
                <li>
                    <a href="#engineering-challenge" aria-label="Engineering Challenge">Engineering Challenge</a></li>
                <li>
                    <a href="#future-improvements-roadmap" aria-label="Future Improvements (Roadmap)">Future Improvements (Roadmap)</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="-view-code-on-github">ðŸ”— <a href="https://github.com/n0t-f0ur13r/UBike">View Code on GitHub</a><a hidden class="anchor" aria-hidden="true" href="#-view-code-on-github">#</a></h3>
<h2 id="the-problem">The Problem<a hidden class="anchor" aria-hidden="true" href="#the-problem">#</a></h2>
<p>University campuses lack automated parking solutions for bicycles.
Traditional locks are vulnerable, and manual registration is slow (crucial when the flow of students is high).
We needed a system that authenticated users and mechanically secured the bike without human intervention.</p>
<p>Provide fast and easy to use interface for both campus guards and bicycle owners to administrate
the bicycles on the campus and their own bicycle respectively.</p>
<h2 id="the-solution">The Solution<a hidden class="anchor" aria-hidden="true" href="#the-solution">#</a></h2>
<p>Co engineered a <strong>distributed IoT network</strong> where each parking node operates autonomously using an <strong>ESP32</strong> microcontroller.</p>
<ul>
<li><strong>Hardware:</strong> Custom circuit interfacing RC522 RFID readers and solenoids for physical locking.</li>
<li><strong>Connectivity:</strong> Nodes communicate via secure HTTP requests to a central <strong>Django</strong> server.</li>
<li><strong>Feedback:</strong> LED status indicators and fail-safe mechanisms for power outages.</li>
<li><strong>Interface:</strong> Guards and Bicycle owners can access a Web Application that allows them to control and obtain information for the bicycles.</li>
</ul>
<h2 id="tech-stack">Tech Stack<a hidden class="anchor" aria-hidden="true" href="#tech-stack">#</a></h2>
<ul>
<li><strong>Firmware:</strong> C++ (Arduino Framework) with manual memory management for the ESP32.</li>
<li><strong>Backend:</strong> Python (Django) &amp; PostgreSQL for user/device management.</li>
<li><strong>Protocol:</strong> REST API over WiFi.</li>
</ul>
<h2 id="engineering-challenge">Engineering Challenge<a hidden class="anchor" aria-hidden="true" href="#engineering-challenge">#</a></h2>
<p>The biggest hurdle was <strong>handling network latency</strong> on the microcontroller. The solenoid had to unlock instantly upon card scan.</p>
<ul>
<li><em>Solution:</em> Implemented an asynchronous state machine on the ESP32 that caches valid IDs locally for offline operation, syncing with the database only when the network is idle.</li>
</ul>
<h2 id="future-improvements-roadmap">Future Improvements (Roadmap)<a hidden class="anchor" aria-hidden="true" href="#future-improvements-roadmap">#</a></h2>
<p>Given the maturity of a first semester course, it can certainly improve in many areas.</p>
<ul>
<li><strong>Physical lock:</strong> Given the field of engineering, the lock was not properly designed for physical aggression or security, only a working concept with solenoid.</li>
<li><strong>Hardware:</strong> Lacking knowledge in electronics produced several solenoid failures.</li>
<li><strong>Firmware:</strong> Managing concurrency between WiFi and Server (Django Backend) connection within an embedded environment, produces deadlock.</li>
</ul>
<hr>
<blockquote>
<p><em>Note: This project was developed as a Capstone for the first semester course Introduction to Engineering.</em></p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/c&#43;&#43;/">C&#43;&#43;</a></li>
      <li><a href="http://localhost:1313/tags/esp32/">ESP32</a></li>
      <li><a href="http://localhost:1313/tags/django/">Django</a></li>
      <li><a href="http://localhost:1313/tags/iot/">IoT</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">JosuÃ© Leiva</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
